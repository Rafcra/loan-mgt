{% extends "layout.html" %}
{% block body %}

<div class="section">
  <div class="container" style="margin: 10px;">
    <div class="row">
      <h3 class="card-title title-up" style="padding-top: 30px;">Applications</h3>
          
<div class="card-body">
            {% with messages = get_flashed_messages() %}
        {% if messages %}
        {% for message in messages %}
          <div class="alert alert-danger alert-dismissible fade show" role="alert">
            {{message}}
            <button type="button" class="btn-close" data-bs-dismiss="alert" aria-label="Close"></button>
          </div>
          {% endfor %}
        {% endif %}
      {% endwith %}
</div>

<h3 class="card-title title-up" style="padding-top: 30px;">Customer Info</h3>
           
<table class="table">
  <thead>
    <tr>
      <th scope="col">#</th>
      <th scope="col">First Name</th>
      <th scope="col">Last Name</th>
      <th scope="col">Date of birth</th>
      <th scope="col">Phone</th>
      <th scope="col">Email</th>
      <th scope="col">Approve</th>
      <th scope="col">Reject</th>
      <th scope="col">Repayment</th>
    </tr>
  </thead>
  <tbody>

    {% for customer in customers %}
    <tr>
      <th scope="row">{{customer.customer_id}}</th>
      <td>{{customer.first_name}}</td>
      <td>{{customer.last_name}}</td>
      <td>{{customer.birthdate}}</td>
      <td>{{customer.phone}}</td>
      <td>{{customer.email}}</td>
      <td><a href="/approve/{{customer.customer_id}}" class="btn btn-success">Approve</a></td>
      <td><a href="/reject/{{customer.customer_id}}" class="btn btn-success">Reject</a></td>
      <td><a href="/repayment/{{customer.customer_id}}" class="btn btn-success">Repayment</a></td>
    </tr>
    {% endfor %}
  </tbody>
</table>    
        
    </div>
  </div>
</div>
<div class="card-footer text-center">
            <a href="/logout" class="btn btn-neutral btn-round btn-lg">Logout</a>
          </div>


{% endblock %}